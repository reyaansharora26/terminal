<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>reyaansharora26 | Hacker Terminal</title>

<style>
body {
    margin: 0;
    background: #000;
    color: #00ff88;
    font-family: "Courier New", monospace;
    user-select: none;
}

#terminal {
    max-width: 900px;
    margin: 40px auto;
    padding: 20px;
}

#output {
    max-height: 70vh;
    overflow-y: auto;
}

p { margin: 4px 0; }

.command { color: #00ffff; }

input {
    background: transparent;
    border: none;
    outline: none;
    color: #00ff88;
    font-family: inherit;
    font-size: 1em;
    width: 90%;
    user-select: text;
}

a {
    color: #00ffff;
    text-decoration: none;
}

a:hover { text-decoration: underline; }

.cursor {
    display: inline-block;
    width: 8px;
    height: 16px;
    background: #00ff88;
    animation: blink 1s infinite;
    vertical-align: middle;
}

@keyframes blink {
    50% { opacity: 0; }
}
</style>
</head>

<body>

<div id="terminal">
    <div id="boot"></div>
    <div id="output"></div>

    <div>
        <span>> </span>
        <input id="commandInput" autocomplete="off" />
        <span class="cursor"></span>
    </div>
</div>

<script>
/* CONFIG */
const USERNAME = "reyaansharora26";

const input = document.getElementById("commandInput");
const output = document.getElementById("output");
const boot = document.getElementById("boot");

let history = [];
let historyIndex = -1;

/* TYPE EFFECT */
function typeLine(text, target, speed = 25) {
    return new Promise(resolve => {
        let i = 0;
        const p = document.createElement("p");
        target.appendChild(p);

        const interval = setInterval(() => {
            p.textContent += text[i++];
            if (i >= text.length) {
                clearInterval(interval);
                resolve();
            }
        }, speed);
    });
}

/* BOOT */
async function bootSequence() {
    await typeLine("> Initializing secure shell...", boot);
    await typeLine("> Authenticating user...", boot);
    await typeLine(`> User: ${USERNAME}`, boot);
    await typeLine("> Access: GRANTED", boot);
    await typeLine("> Type 'help' to begin", boot);
    input.focus();
}
bootSequence();

/* COMMANDS */
const commands = {
    help: `
about
skills
projects
github
stats
contact
clear
`,

    about: `
User: ${USERNAME}
Frontend hacker.
Dark UI. Clean code.
`,

    skills: `
HTML • CSS • JavaScript
UI/UX • APIs • GitHub
`,

    projects: `
• Hacker Terminal Portfolio
• Dark Dashboards
• Web Applications
`,

    contact: `
GitHub: https://github.com/${USERNAME}
`,

    clear: () => {
        output.innerHTML = "";
        return "";
    },

    github: async () => {
        try {
            const res = await fetch(`https://api.github.com/users/${USERNAME}/repos`);
            if (!res.ok) throw new Error();

            const data = await res.json();
            let html = "<p>Repositories:</p><ul>";

            data.slice(0, 8).forEach(repo => {
                html += `<li>
                    <a href="${repo.html_url}" target="_blank">${repo.name}</a>
                    ⭐ ${repo.stargazers_count}
                </li>`;
            });

            html += "</ul>";
            return html;
        } catch {
            return "GitHub API limit reached or user not found.";
        }
    },

    stats: async () => {
        const res = await fetch(`https://api.github.com/users/${USERNAME}`);
        const d = await res.json();

        return `
Followers: ${d.followers}
Following: ${d.following}
Public Repos: ${d.public_repos}
`;
    }
};

/* RUN COMMAND */
async function runCommand(cmd) {
    if (!cmd) return;

    history.push(cmd);
    historyIndex = history.length;

    output.innerHTML += `<p>> <span class="command">${cmd}</span></p>`;

    if (commands[cmd]) {
        let result = commands[cmd];
        if (typeof result === "function") result = await result();
        output.innerHTML += `<p>${result}</p>`;
    } else {
        output.innerHTML += `<p>Unknown command. Type <span class="command">help</span></p>`;
    }

    output.scrollTop = output.scrollHeight;
    input.value = "";
}

/* INPUT */
input.addEventListener("keydown", async e => {
    if (e.key === "Enter") {
        await runCommand(input.value.trim().toLowerCase());
    }

    if (e.key === "ArrowUp") {
        if (historyIndex > 0) historyIndex--;
        input.value = history[historyIndex] || "";
    }

    if (e.key === "ArrowDown") {
        if (historyIndex < history.length - 1) historyIndex++;
        input.value = history[historyIndex] || "";
    }
});

/* ALWAYS FOCUS */
document.addEventListener("click", () => input.focus());
window.addEventListener("focus", () => input.focus());
</script>

</body>
</html>
